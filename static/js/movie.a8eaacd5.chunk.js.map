{"version":3,"sources":["services/themoviedb.js","services/key.js","components/MovieDetailsPage/styles.module.scss","routes/detailsRoutes.js","components/MovieDetailsPage/index.js"],"names":["instance","axios","create","baseURL","method","params","api_key","language","getMovies","get","then","data","results","getMoviesBySearch","query","getMovie","movie_id","result","title","posterSrc","poster_path","year","Date","release_date","getFullYear","userScore","vote_average","overview","genres","map","genre","name","join","getCast","cast","getReviews","module","exports","path","component","lazy","MovieDetailsPage","location","match","history","useState","movie","setMovie","id","locationState","state","goBackTo","getLocationObject","section","pathname","url","useEffect","className","styles","button","onClick","Object","assign","filter","search","push","infoSection","src","alt","description","key","to","link","activeClassName","fallback","detailsRoutes"],"mappings":"qTAGMA,E,OAAWC,EAAMC,OAAO,CAC5BC,QAAS,+BACTC,OAAQ,MACRC,OAAQ,CACNC,QCPW,mCDQXC,SAAU,WAIRC,EAAYR,EACfS,IADe,qBAEfC,MAAK,SAACC,GAAD,OAAUA,EAAKA,KAAKC,WAEtBC,EAAoB,SAACC,GAAD,OACxBd,EACGS,IADH,yDACyDK,IACtDJ,MAAK,SAACC,GAAD,OAAUA,EAAKA,KAAKC,YAExBG,EAAW,SAACC,GAAD,OACfhB,EAASS,IAAT,iBAAuBO,IAAYN,MAAK,SAACO,GAAY,IAC3CN,EAASM,EAATN,KACR,MAAO,CACLO,MAAOP,EAAKO,MACZC,UAAU,kCAAD,OAAoCR,EAAKS,aAClDC,KAAM,IAAIC,KAAKX,EAAKY,cAAcC,cAClCC,UAAU,GAAD,OAAyB,GAApBd,EAAKe,aAAV,KACTC,SAAUhB,EAAKgB,SACfC,OAAQjB,EAAKiB,OAAOC,KAAI,SAACC,GAAD,OAAWA,EAAMC,QAAMC,KAAK,UAIpDC,EAAU,SAACjB,GAAD,OACdhB,EAASS,IAAT,iBAAuBO,EAAvB,aAA2CN,MAAK,SAACC,GAAD,OAAUA,EAAKA,KAAKuB,SAEhEC,EAAa,SAACnB,GAAD,OACjBhB,EAASS,IAAT,iBAAuBO,EAAvB,aAA2CN,MAAK,SAACC,GAAD,OAAUA,EAAKA,KAAKC,a,mBErCtEwB,EAAOC,QAAU,CAAC,OAAS,uBAAuB,YAAc,4BAA4B,YAAc,4BAA4B,KAAO,qBAAqB,cAAc,8B,yFCQjK,GACb,CACEC,KAAM,mBACNC,UAVSC,gBAAK,kBAChB,iCAWA,CACEF,KAAM,sBACNC,UAXYC,gBAAK,kBACnB,kC,iBCyEaC,UAzEU,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QAAc,EAC/BC,qBAD+B,mBAClDC,EADkD,KAC3CC,EAD2C,KAEjDC,EAAOL,EAAMtC,OAAb2C,GAEFC,EAAgBP,EAASQ,OADF,CAAEC,SAAU,KAGnCC,EAAoB,SAACC,GAAD,MAAc,CACtCC,SAAS,GAAD,OAAKX,EAAMY,IAAX,YAAkBF,GAC1BH,MAAOD,IAoBT,OAJAO,qBAAU,WACRzC,YAASiC,GAAItC,MAAK,SAACC,GAAD,OAAUoC,EAASpC,QACpC,CAACqC,IAGF,oCACE,4BAAQS,UAAWC,IAAOC,OAAQC,QApBZ,WACxB,IAAMlB,EAAWmB,OAAOC,OACtB,CACER,SAAUL,EAAcE,UAE1BF,EAAcc,OACV,CACEC,OAAO,WAAD,OAAaf,EAAcc,SAEnC,IAENnB,EAAQqB,KAAKvB,KAUR,KADH,WAGCI,GACC,yBAAKW,UAAWC,IAAOQ,aACrB,yBAAKC,IAAKrB,EAAM3B,UAAWiD,IAAI,KAC/B,yBAAKX,UAAWC,IAAOW,aACrB,sCAAQvB,EAAM5B,MAAd,aAAwB4B,EAAMzB,KAA9B,MACA,0CAAgByB,EAAMrB,WACtB,wCACA,2BAAIqB,EAAMnB,UACV,sCACA,2BAAImB,EAAMlB,UAIhB,6BACA,qDACA,4BA3Ca,CAAC,OAAQ,WA4CVC,KAAI,SAACwB,GAAD,OACZ,wBAAIiB,IAAKjB,GACP,kBAAC,IAAD,CACEkB,GAAInB,EAAkBC,GACtBI,UAAWC,IAAOc,KAClBC,gBAAiBf,IAAO,gBAEvBL,QAKT,6BACA,kBAAC,WAAD,CAAUqB,SAAU,4CAClB,kBAAC,IAAD,KACGC,EAAc9C,KAAI,gBAAGS,EAAH,EAAGA,KAAMC,EAAT,EAASA,UAAT,OACjB,kBAAC,IAAD,CAAO+B,IAAKhC,EAAMA,KAAMA,EAAMC,UAAWA","file":"static/js/movie.a8eaacd5.chunk.js","sourcesContent":["import axios from \"axios\";\nimport key from \"./key\";\n\nconst instance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3\",\n  method: \"get\",\n  params: {\n    api_key: key,\n    language: \"en-US\",\n  },\n});\n\nconst getMovies = instance\n  .get(`/trending/all/day`)\n  .then((data) => data.data.results);\n\nconst getMoviesBySearch = (query) =>\n  instance\n    .get(`/search/movie?page=1&include_adult=false&query=${query}`)\n    .then((data) => data.data.results);\n\nconst getMovie = (movie_id) =>\n  instance.get(`/movie/${movie_id}`).then((result) => {\n    const { data } = result;\n    return {\n      title: data.title,\n      posterSrc: `http://image.tmdb.org/t/p/w185/${data.poster_path}`,\n      year: new Date(data.release_date).getFullYear(),\n      userScore: `${data.vote_average * 10}%`,\n      overview: data.overview,\n      genres: data.genres.map((genre) => genre.name).join(\" \"),\n    };\n  });\n\nconst getCast = (movie_id) =>\n  instance.get(`/movie/${movie_id}/credits`).then((data) => data.data.cast);\n\nconst getReviews = (movie_id) =>\n  instance.get(`/movie/${movie_id}/reviews`).then((data) => data.data.results);\n\nexport { getMoviesBySearch, getMovies, getMovie, getCast, getReviews };\n","export default \"12195a6bd1764ebdb0726c385bfb41cc\";\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"styles_button__3cRnL\",\"infoSection\":\"styles_infoSection__1OpFf\",\"description\":\"styles_description__3g2Ek\",\"link\":\"styles_link__SvkU8\",\"active-link\":\"styles_active-link__3YRpf\"};","import { lazy } from \"react\";\n\nconst Cast = lazy(() =>\n  import(\"../components/Cast\" /* webpackChunkName: \"cast\" */)\n);\nconst Reviews = lazy(() =>\n  import(\"../components/Reviews\" /* webpackChunkName: \"reviews\" */)\n);\n\nexport default [\n  {\n    path: \"/movies/:id/cast\",\n    component: Cast,\n  },\n  {\n    path: \"/movies/:id/reviews\",\n    component: Reviews,\n  },\n];\n","import React, { Suspense, useEffect, useState } from \"react\";\nimport { Route, NavLink, Switch } from \"react-router-dom\";\nimport { getMovie } from \"../../services/themoviedb\";\nimport detailsRoutes from \"../../routes/detailsRoutes\";\nimport styles from \"./styles.module.scss\";\n\nconst MovieDetailsPage = ({ location, match, history }) => {\n  const [movie, setMovie] = useState();\n  const { id } = match.params;\n  const defaultLocationState = { goBackTo: \"/\" };\n  const locationState = location.state || defaultLocationState;\n  const sections = [\"cast\", \"reviews\"];\n  const getLocationObject = (section) => ({\n    pathname: `${match.url}/${section}`,\n    state: locationState,\n  });\n  const handleButtonClick = () => {\n    const location = Object.assign(\n      {\n        pathname: locationState.goBackTo,\n      },\n      locationState.filter\n        ? {\n            search: `?filter=${locationState.filter}`,\n          }\n        : {}\n    );\n    history.push(location);\n  };\n\n  useEffect(() => {\n    getMovie(id).then((data) => setMovie(data));\n  }, [id]);\n\n  return (\n    <>\n      <button className={styles.button} onClick={handleButtonClick}>\n        {\"<<\"}Go Back\n      </button>\n      {movie && (\n        <div className={styles.infoSection}>\n          <img src={movie.posterSrc} alt=\"\"/>\n          <div className={styles.description}>\n            <h2>{`${movie.title} (${movie.year})`}</h2>\n            <p>User score: {movie.userScore}</p>\n            <h4>Overview</h4>\n            <p>{movie.overview}</p>\n            <h5>Genres</h5>\n            <p>{movie.genres}</p>\n          </div>\n        </div>\n      )}\n      <hr />\n      <p>Additional information</p>\n      <ul>\n        {sections.map((section) => (\n          <li key={section}>\n            <NavLink\n              to={getLocationObject(section)}\n              className={styles.link}\n              activeClassName={styles[\"active-link\"]}\n            >\n              {section}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n      <hr />\n      <Suspense fallback={<div>Loading...</div>}>\n        <Switch>\n          {detailsRoutes.map(({ path, component }) => (\n            <Route key={path} path={path} component={component} />\n          ))}\n        </Switch>\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}